# EvidenceSupportTool

## 概要

EvidenceSupportTool は、指定したログファイルから対象部分のログエントリを抽出し、新しく追加されたログエントリを特定して出力することで、ユーザーが特定の作業やプロセスを証明するためのエビデンス収集を支援するアプリケーションです。

## 主な機能

- **ログの差分抽出:** 監視開始時と停止時のログファイルを比較し、追加された行だけを差分として抽出します。
- **柔軟な監視対象設定:** `setting.ini` ファイルで、ワイルドカードや日付・時刻フォーマットを用いて監視したいログファイルを柔軟に指定できます。
- **タイムスタンプベースのフォルダ管理:** 抽出したエビデンスは、監視開始時刻のタイムスタンプ（`YYYYMMDD_hhmmss`）が付与されたフォルダに整理・保存されるため、いつの操作のエビデンスか一目で分かります。

## 設定方法 (`setting.ini`)

アプリケーションの動作は、実行ファイルと同じ階層にある `setting.ini` ファイルで設定します。

```ini
; エビデンスサポートツール 設定ファイル

[Targets]
; 監視対象となるログファイル/フォルダを定義します。
; キー（=の左側）が、エビデンス保存時のフォルダ名になります。
;
; パスには以下の特殊な日付・時刻フォーマットを使用できます。
;   *        : ファイル名のワイルドカード
;   {YYYY}   : 4桁の年 (例: 2025)
;   {MM}     : 2桁の月 (例: 10)
;   {DD}     : 2桁の日 (例: 16)
; WebAppLog = D:\home\LogFiles\http\RawLogs\{YYYY}\{MM}\{DD}\*
; DatabaseLog = D:\home\LogFiles\database\*.log


[Settings]
; ツールの動作全般に関する設定です。

; EvidenceSavePath: 抽出したエビデンスを保存する親フォルダのパス
EvidenceSavePath = C:\EvidenceOutput

; KeepSnapshot: 監視停止時に、比較元として使用したログのスナップショットを保持するかどうか
; true  = 保持する
; false = 削除する
KeepSnapshot = false
```

### `[Targets]` セクション

監視したいログファイルを `キー = パス` の形式で指定します。キーは、エビデンスが出力される際のサブフォルダ名として使用されます。

### `[Settings]` セクション

- `EvidenceSavePath`: 抽出されたエビデンスが保存される親フォルダのパスを指定します。

## 使用方法

1. `setting.ini` を開き、監視したいログファイルのパスと、エビデンスの保存先を設定します。
2. `EvidenceSupportTool.exe` を実行します。
3. **[監視開始]** ボタンをクリックして、ログの監視を始めます。
4. エビデンスとして記録したい操作（アプリケーションの操作、プロセスの実行など）を行います。
5. **[監視停止]** ボタンをクリックして、監視を終了します。
6. 処理が完了すると、`setting.ini`の`EvidenceSavePath`で指定したフォルダに、抽出されたログの差分が保存されます。
